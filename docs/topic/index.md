# 功能文档

* [Redis 集群规范](cluster-spec.md)
  + [引言](cluster-spec.md#id1)
  + [什么是 Redis 集群？](cluster-spec.md#id2)
  + [Redis 集群实现的功能子集](cluster-spec.md#id3)
  + [Redis 集群协议中的客户端和服务器](cluster-spec.md#id4)
  + [键分布模型](cluster-spec.md#id5)
  + [集群节点属性](cluster-spec.md#id6)
  + [节点握手（已实现）](cluster-spec.md#id7)
  + [MOVED 转向](cluster-spec.md#moved)
  + [集群在线重配置（live reconfiguration）](cluster-spec.md#live-reconfiguration)
  + [ASK 转向](cluster-spec.md#ask)
  + [容错](cluster-spec.md#id8)
  + [发布/订阅（已实现，但仍然需要改善）](cluster-spec.md#id12)
  + [附录 A： CRC16 算法的 ANSI 实现参考](cluster-spec.md#a-crc16-ansi)
* [持久化（persistence）](persistence.md)
  + [Redis 持久化](persistence.md#redis)
  + [RDB 的优点](persistence.md#rdb)
  + [RDB 的缺点](persistence.md#id3)
  + [AOF 的优点](persistence.md#aof)
  + [AOF 的缺点](persistence.md#id4)
  + [RDB 和 AOF ，我应该用哪一个？](persistence.md#rdb-aof)
  + [RDB 快照](persistence.md#id5)
  + [快照的运作方式](persistence.md#id6)
  + [只进行追加操作的文件（append-only file，AOF）](persistence.md#append-only-file-aof)
  + [AOF 重写](persistence.md#id7)
  + [AOF 的耐久性如何？](persistence.md#id8)
  + [如果 AOF 文件出错了，怎么办？](persistence.md#id9)
  + [AOF 的运作方式](persistence.md#id10)
  + [怎么从 RDB 持久化切换到 AOF 持久化](persistence.md#id11)
  + [RDB 和 AOF 之间的相互作用](persistence.md#id12)
  + [备份 Redis 数据](persistence.md#id13)
  + [容灾备份](persistence.md#id14)
* [发布与订阅（pub/sub）](pubsub.md)
  + [信息的格式](pubsub.md#id2)
  + [订阅模式](pubsub.md#id3)
  + [通过频道和模式接收同一条信息](pubsub.md#id4)
  + [订阅总数](pubsub.md#id5)
  + [编程示例](pubsub.md#id6)
  + [客户端库实现提示](pubsub.md#id8)
* [Sentinel](sentinel.md)
  + [获取 Sentinel](sentinel.md#id2)
  + [启动 Sentinel](sentinel.md#id3)
  + [配置 Sentinel](sentinel.md#id4)
  + [主观下线和客观下线](sentinel.md#id5)
  + [每个 Sentinel 都需要定期执行的任务](sentinel.md#id6)
  + [自动发现 Sentinel 和从服务器](sentinel.md#id7)
  + [Sentinel API](sentinel.md#sentinel-api)
  + [故障转移](sentinel.md#id10)
  + [TILT 模式](sentinel.md#tilt)
  + [处理 `-BUSY` 状态](sentinel.md#busy)
  + [Sentinel 的客户端实现](sentinel.md#id14)
* [集群教程](cluster-tutorial.md)
  + [集群简介](cluster-tutorial.md#id2)
  + [Redis 集群数据共享](cluster-tutorial.md#id3)
  + [Redis 集群中的主从复制](cluster-tutorial.md#id4)
  + [Redis 集群的一致性保证（guarantee）](cluster-tutorial.md#redis-guarantee)
  + [创建并使用 Redis 集群](cluster-tutorial.md#id5)
  + [创建集群](cluster-tutorial.md#id7)
  + [集群的客户端](cluster-tutorial.md#id8)
  + [使用 `redis-rb-cluster` 编写一个示例应用](cluster-tutorial.md#redis-rb-cluster)
  + [对集群进行重新分片](cluster-tutorial.md#id10)
  + [一个更有趣的示例应用](cluster-tutorial.md#id11)
  + [故障转移测试](cluster-tutorial.md#id13)
  + [添加新节点到集群](cluster-tutorial.md#id14)
  + [移除一个节点](cluster-tutorial.md#id15)
* [键空间通知（keyspace notification）](notification.md)
  + [功能概览](notification.md#id1)
  + [事件的类型](notification.md#id2)
  + [配置](notification.md#id3)
  + [命令产生的通知](notification.md#id4)
  + [过期通知的发送时间](notification.md#id5)
* [通信协议（protocol）](protocol.md)
  + [网络层](protocol.md#id1)
  + [请求](protocol.md#id2)
  + [新版统一请求协议](protocol.md#id3)
  + [回复](protocol.md#id4)
  + [状态回复](protocol.md#id5)
  + [错误回复](protocol.md#id6)
  + [整数回复](protocol.md#id7)
  + [批量回复](protocol.md#id8)
  + [多条批量回复](protocol.md#id9)
  + [多条批量回复中的空元素](protocol.md#id10)
  + [多命令和流水线](protocol.md#id11)
  + [内联命令](protocol.md#id12)
  + [高性能 Redis 协议分析器](protocol.md#redis)
* [复制（Replication）](replication.md)
  + [关闭主服务器持久化时，复制功能的数据安全](replication.md#id1)
  + [复制功能的运作原理](replication.md#id2)
  + [部分重同步](replication.md#id3)
  + [配置](replication.md#id4)
  + [只读从服务器](replication.md#id5)
  + [从服务器相关配置](replication.md#id6)
  + [主服务器只在有至少 N 个从服务器的情况下，才执行写操作](replication.md#n)
* [事务（transaction）](transaction.md)
  + [用法](transaction.md#id1)
  + [事务中的错误](transaction.md#id2)
  + [为什么 Redis 不支持回滚（roll back）](transaction.md#redis-roll-back)
  + [放弃事务](transaction.md#id3)
  + [使用 check-and-set 操作实现乐观锁](transaction.md#check-and-set)
  + [了解 WATCH](transaction.md#watch)
  + [使用 WATCH 实现 ZPOP](transaction.md#watch-zpop)
  + [Redis 脚本和事务](transaction.md#redis)
